<html>
  <head>
    <title>Kevin Kuchta's Ill-advised Lambda-Only Link-Shortener</title>
    <style>
    body {
      display: flex;
      justify-content: center;
      flex-direction: column;
      padding: 50px;
      font-family: sans-serif;
      max-width: 600px;
    }
    .url-input {
      height: 40px;
      padding: 6px;
      font-size: 24px;
    }
    .submit-button {
      height: 40px;
      font-size: 22px;
      border-radius: 4px;
    }
    </style>
    <script>
      const WRITE_PREFIX = ''

      // It's been so long, I'd almost forgotten how to write this old-school js.
      window.shorten = function(event) {
        event.preventDefault();
        urlInput = document.getElementsByClassName('url-input')[0]
        fetch(WRITE_PREFIX, { body: JSON.stringify({ url: urlInput.value }), method: 'POST' })
        .then((response) => response.text())
        .then((text) => {
          urlInput.value = text;
          urlInput.focus();
        });
      }
    </script>
  </head>
  <body>
    <h1>Kevin Kuchta's Ill-advised Lambda-Only Link-Shortener</h1>
    <p>Details and writeup at <a href='http://kevinkuchta.com/_site/2018/03/lambda-only-url-shortener/'>kevinkuchta.com</a></p>
    <form id='shorten-form'>
      <input name='url' class='url-input' placeholder='Paste link here'></input>
      <button class='submit-button' onclick='shorten(event)'>shorten</button>
    </form>
  </body>
</html>
